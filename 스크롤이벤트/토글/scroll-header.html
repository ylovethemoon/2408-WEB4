<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스크롤헤더</title>
    <style>
        body {
            height: 5000px;
        }

        header {
            position: fixed;
            width: 100%;
            height: 80px;
            background-color: pink;
            transition: 0.3s;
            

        }

        header.hide {
            opacity: 0;
            transform: translateY(-100%);
        }

        header.scrolled {
            background-color: grey;
        }

        
    </style>
</head>
<body>
    <header></header>
    <script>
    const header = document.querySelector('header');
    const ratio = 300;

    let preWindowY = window.scrollY ;

    window.addEventListener('scroll', () => {
        const windowY = window.scrollY ;

        if (preWindowY < windowY && windowY > ratio ) {
            header.classList.add('hide')
        } else {
            header.classList.remove('hide')
        }
        
        preWindowY = windowY

        if (windowY < ratio) {
            header.classList.add('scrolled')
        } else {
            header.classList.remove('scrolled')
        }
    })
    </script>
</body>
</html>